var pluginName="laa.follower";$.tooltipster._plugin({name:pluginName,instance:{__defaults:function(){return{anchor:"top-left",maxWidth:null,minWidth:0,offset:[15,-15]}},__init:function(e){var t=this;return t.__displayed,t.__helper,t.__initialROS=e.option("repositionOnScroll"),t.__instance=e,t.__latestMouseEvent,t.__namespace="tooltipster-follower-"+Math.round(1e6*Math.random()),t.__openingTouchEnded,t.__pointerPosition,t.__previousState="closed",t.__size,t.__options,t.__initialROS||t.__instance.option("repositionOnScroll",!0),t.__optionsFormat(),t.__instance._on("destroy."+t.__namespace,function(){t.__destroy()}),t.__instance._on("options."+t.__namespace,function(){t.__optionsFormat()}),t.__instance._on("reposition."+t.__namespace,function(e){t.__reposition(e.event,e.helper)}),t.__instance._on("start."+t.__namespace,function(e){t.__instance._$origin.on("mousemove."+t.__namespace,function(e){t.__latestMouseEvent=e})}),t.__instance._one("startend."+t.__namespace+" startcancel."+t.__namespace,function(e){t.__instance._$origin.off("mousemove."+t.__namespace),"startcancel"==e.type&&(t.__latestMouseEvent=null)}),t.__instance._on("state."+t.__namespace,function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state}),t},__close:function(){return"object"==typeof this.__instance.content()&&null!==this.__instance.content()&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null,$($.tooltipster._env.window.document).off("."+this.__namespace),this.__latestMouseEvent=null,this},__create:function(){var e=this,t=$('<div class="tooltipster-base tooltipster-follower"><div class="tooltipster-box"><div class="tooltipster-content"></div></div></div>'),i=$($.tooltipster._env.window.document);return e.__options.minWidth&&t.css("min-width",e.__options.minWidth+"px"),e.__options.maxWidth&&t.css("max-width",e.__options.maxWidth+"px"),e.__instance._$tooltip=t,e.__displayed=!1,e.__openingTouchEnded=!1,i.on("mousemove."+e.__namespace,function(t){e.__openingTouchEnded&&e.__displayed||e.__follow(t)}),e.__instance.option("triggerClose").tap&&i.on("touchend."+e.__namespace+" touchcancel."+e.__namespace,function(t){e.__openingTouchEnded=!0}),e.__instance._trigger("created"),e},__destroy:function(){return this.__instance._off("."+this.__namespace),this.__initialROS||this.__instance.option("repositionOnScroll",!1),this},__follow:function(e){if(e?this.__latestMouseEvent=e:this.__latestMouseEvent&&(e=this.__latestMouseEvent),e){this.__displayed=!0;var t={},i=this.__options.anchor,o=$.merge([],this.__options.offset);switch(this.__helper.geo.window.scroll={left:$.tooltipster._env.window.scrollX||$.tooltipster._env.window.document.documentElement.scrollLeft,top:$.tooltipster._env.window.scrollY||$.tooltipster._env.window.document.documentElement.scrollTop},i){case"top-left":case"left-center":case"bottom-left":t.left=e.pageX+o[0];break;case"top-center":case"bottom-center":t.left=e.pageX+o[0]-this.__size.width/2;break;case"top-right":case"right-center":case"bottom-right":t.left=e.pageX+o[0]-this.__size.width;break;default:console.log("Wrong anchor value")}switch(i){case"top-left":case"top-center":case"top-right":t.top=e.pageY-o[1];break;case"left-center":case"right-center":t.top=e.pageY-o[1]-this.__size.height/2;break;case"bottom-left":case"bottom-center":case"bottom-right":t.top=e.pageY-o[1]-this.__size.height}if("left-center"==i||"right-center"==i){if("right-center"==i)t.left<this.__helper.geo.window.scroll.left&&(e.pageX-o[0]+this.__size.width<=this.__helper.geo.window.scroll.left+this.__helper.geo.window.size.width?(i="left-center",o[0]=-o[0],t.left=e.pageX+o[0]):(i="top-right",o[1]=o[0],t={left:0,top:e.pageY-o[1]}));else if(t.left+this.__size.width>this.__helper.geo.window.scroll.left+this.__helper.geo.window.size.width){var _=e.pageX-o[0]-this.__size.width;_>=0?(i="right-center",o[0]=-o[0],t.left=_):(i="top-left",o[1]=-o[0],t={left:e.pageX+o[0],top:e.pageY-o[1]})}t.top+this.__size.height>this.__helper.geo.window.scroll.top+this.__helper.geo.window.size.height&&(t.top=this.__helper.geo.window.scroll.top+this.__helper.geo.window.size.height-this.__size.height),t.top<this.__helper.geo.window.scroll.top&&(t.top=this.__helper.geo.window.scroll.top),t.top+this.__size.height>this.__helper.geo.document.size.height&&(t.top=this.__helper.geo.document.size.height-this.__size.height),t.top<0&&(t.top=0)}if("left-center"!=i&&"right-center"!=i){t.left+this.__size.width>this.__helper.geo.window.scroll.left+this.__helper.geo.window.size.width&&(t.left=this.__helper.geo.window.scroll.left+this.__helper.geo.window.size.width-this.__size.width),t.left<0&&(t.left=0);var s=e.pageY-this.__helper.geo.window.scroll.top;if(0==i.indexOf("bottom"))t.top<this.__helper.geo.window.scroll.top&&(t.top<0||s<this.__helper.geo.window.size.height-s&&e.pageY+o[1]+this.__size.height<=this.__helper.geo.document.size.height)&&(t.top=e.pageY+o[1]);else if(t.top+this.__size.height>this.__helper.geo.window.scroll.top+this.__helper.geo.window.size.height&&(s>this.__helper.geo.window.size.height-s||s-o[1]+this.__size.height<=this.__helper.geo.document.size.height)){var n=e.pageY+o[1]-this.__size.height;n>=0&&(t.top=n)}}this.__helper.geo.origin.fixedLineage&&(t.left-=this.__helper.geo.window.scroll.left,t.top-=this.__helper.geo.window.scroll.top);var l={coord:t};this.__instance._trigger({edit:function(e){l=e},event:e,helper:this.__helper,position:$.extend(!0,{},l),type:"follow"}),this.__instance._$tooltip.css({left:l.coord.left,top:l.coord.top}).show()}else this.__instance._$tooltip.hide();return this},__optionsFormat:function(){return this.__options=this.__instance._optionsExtract(pluginName,this.__defaults()),this},__reposition:function(e,t){var i=this,o=i.__instance._$tooltip.clone(),_=$.tooltipster._getRuler(o),s=i.__instance.option("animation");s&&o.removeClass("tooltipster-"+s);var n={size:_.free().measure().size};t.geo.origin.fixedLineage?i.__instance._$tooltip.css("position","fixed"):i.__instance._$tooltip.css("position",""),i.__instance._trigger({edit:function(e){n=e},event:e,helper:t,position:$.extend(!0,{},n),tooltipClone:o[0],type:"position"}),_.destroy(),i.__helper=t,i.__size=n.size,i.__instance._$tooltip.css({height:n.size.height,width:n.size.width});var l=$.tooltipster._env.IE&&"click"===e.type?e:null;return i.__follow(l),i.__instance._$tooltip.appendTo(i.__instance.option("parent")),i.__instance._trigger({type:"repositioned",event:e,position:{coord:{left:0,top:0},size:n.size}}),this}}});